---
title: 中国农历转公历
date: 2015-10-29 16:41:01
description: ""
category:
summary: "农历与公历，算法和资源收集"
tags: [Calendar, Lunar]
---

### 术语解释
**农历:**也称夏历、汉历、旧历、阴历，以下统称为农历
**公历:**也称阳历、新历，现在国际上通用的就是这种,由于它来源于西方,是辛亥革命时期才传到我国

### 资料收集
1.  经过整理的150年内的农历数据(1901-2050)
	```
	private static final int[] sLunarInfoArray = {
	    0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2, // 1910
	    0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977, // 1920
	    0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970, // 1930
	    0x06566, 0x0d4a0, 0x0ea50, 0x06e95, 0x05ad0, 0x02b60, 0x186e3, 0x092e0, 0x1c8d7, 0x0c950, // 1940
	    0x0d4a0, 0x1d8a6, 0x0b550, 0x056a0, 0x1a5b4, 0x025d0, 0x092d0, 0x0d2b2, 0x0a950, 0x0b557, // 1950
	    0x06ca0, 0x0b550, 0x15355, 0x04da0, 0x0a5d0, 0x14573, 0x052d0, 0x0a9a8, 0x0e950, 0x06aa0, // 1960
	    0x0aea6, 0x0ab50, 0x04b60, 0x0aae4, 0x0a570, 0x05260, 0x0f263, 0x0d950, 0x05b57, 0x056a0, // 1970
	    0x096d0, 0x04dd5, 0x04ad0, 0x0a4d0, 0x0d4d4, 0x0d250, 0x0d558, 0x0b540, 0x0b5a0, 0x195a6, // 1980
	    0x095b0, 0x049b0, 0x0a974, 0x0a4b0, 0x0b27a, 0x06a50, 0x06d40, 0x0af46, 0x0ab60, 0x09570, // 1990
	    0x04af5, 0x04970, 0x064b0, 0x074a3, 0x0ea50, 0x06b58, 0x055c0, 0x0ab60, 0x096d5, 0x092e0, // 2000
	    0x0c960, 0x0d954, 0x0d4a0, 0x0da50, 0x07552, 0x056a0, 0x0abb7, 0x025d0, 0x092d0, 0x0cab5, // 2010
	    0x0a950, 0x0b4a0, 0x0baa4, 0x0ad50, 0x055d9, 0x04ba0, 0x0a5b0, 0x15176, 0x052b0, 0x0a930, // 2020
	    0x07954, 0x06aa0, 0x0ad50, 0x05b52, 0x04b60, 0x0a6e6, 0x0a4e0, 0x0d260, 0x0ea65, 0x0d530, // 2030
	    0x05aa0, 0x076a3, 0x096d0, 0x04bd7, 0x04ad0, 0x0a4d0, 0x1d0b6, 0x0d250, 0x0d520, 0x0dd45, // 2040
	    0x0b5a0, 0x056d0, 0x055b2, 0x049b0, 0x0a577, 0x0a4b0, 0x0aa50, 0x1b255, 0x06d20, 0x0ada0, // 2050
	};
	```
2.  数据分析	
	xxxx | xxxx	 | xxxx | xxxx | xxxx
	----- | ------ | ------ | ------
	20-17 | 16-12 | 12-9 | 8-5 | 4-1
	
	+ 1-4: 表示当年有无闰年，有的话，为闰月的月份，没有的话，为0。
	+ 5-16：为除了闰月外的正常月份是大月还是小月，1为30天，0为29天。
		注意：从1月到12月对应的是第16位到第5位。
	+ 17-20： 表示闰月是大月还是小月，仅当存在闰月的情况下有意义。
	```
	举个例子：
	1980年的数据是： 0x095b0
	二进制：0000 1001 0101 1011 0000
	表示1980年没有闰月，从1月到12月的天数依次为：30、29、29、30、29、30、29、30、30、29、30、30。
	1982年的数据是：0x0a974
	0000 1010 1010 0111 0100
	表示1982年的4月为闰月，即有第二个4月，且是闰小月。
	从1月到13月的天数依次为：30、29、30、29、29(闰月)、30、29、30、29、29、30、30、30。
	```
3.  经过整理的150年内的农历正月初一（春节）与公历1月1日（元旦）的天数偏移量数据(1901-2050) 
	```
	private static final int[] sSolarLunarOffsetTable = {
	    49, 38, 28, 46, 34, 24, 43, 32, 21, 40, // 1910
	    29, 48, 36, 25, 44, 34, 22, 41, 31, 50, // 1920
	    38, 27, 46, 35, 23, 43, 32, 22, 40, 29, // 1930
	    47, 36, 25, 44, 34, 23, 41, 30, 49, 38, // 1940
	    26, 45, 35, 24, 43, 32, 21, 40, 28, 47, // 1950
	    36, 26, 44, 33, 23, 42, 30, 48, 38, 27, // 1960
	    45, 35, 24, 43, 32, 20, 39, 29, 47, 36, // 1970
	    26, 45, 33, 22, 41, 30, 48, 37, 27, 46, // 1980
	    35, 24, 43, 32, 50, 39, 28, 47, 36, 26, // 1990
	    45, 34, 22, 40, 30, 49, 37, 27, 46, 35, // 2000
	    23, 42, 31, 21, 39, 28, 48, 37, 25, 44, // 2010
	    33, 22, 40, 30, 49, 38, 27, 46, 35, 24, // 2020
	    42, 31, 21, 40, 28, 47, 36, 25, 43, 33, // 2030
	    22, 41, 30, 49, 38, 27, 45, 34, 23, 42, // 2040
	    31, 21, 40, 29, 47, 36, 25, 44, 32, 22  // 2050
	};
	```

### 参考资料
+ [lunar农历](http://blog.csdn.net/dreamtdp/article/details/25112129)
+ [算法系列之二十：计算中国农历（一）](http://blog.csdn.net/orbit/article/details/9210413)
+ [算法系列之二十：计算中国农历（二）](http://blog.csdn.net/orbit/article/details/9337377)

